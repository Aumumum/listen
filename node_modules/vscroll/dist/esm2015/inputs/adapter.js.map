{"version":3,"file":"adapter.js","sourceRoot":"","sources":["../../../src/inputs/adapter.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAC1C,OAAO,EAAE,eAAe,IAAI,kBAAkB,EAAE,MAAM,cAAc,CAAC;AACrE,OAAO,EAAE,cAAc,IAAI,OAAO,EAAE,MAAM,yBAAyB,CAAC;AAGpE,MAAM,EACJ,OAAO,EACP,iBAAiB,EACjB,OAAO,EACP,MAAM,EACN,SAAS,EACT,qBAAqB,EACrB,8BAA8B,EAC9B,0BAA0B,EAC1B,WAAW,EACX,UAAU,EACV,EAAE,GACH,GAAG,UAAU,CAAC;AAEf,IAAK,eAAmB;AAAxB,WAAK,eAAe;AAAG,CAAC,EAAnB,eAAe,KAAf,eAAe,QAAI;AACxB,MAAM,gBAAgB,GAAkC,EAAE,CAAC;AAE3D,MAAM,mBAAmB,GAAqC;IAC5D,CAAC,kBAAkB,CAAC,GAAG,CAAC,EAAE;QACxB,UAAU,EAAE,CAAC,8BAA8B,CAAC,CAAC,CAAC,CAAC;KAChD;IACD,CAAC,kBAAkB,CAAC,QAAQ,CAAC,EAAE;QAC7B,UAAU,EAAE,CAAC,MAAM,CAAC;KACrB;IACD,CAAC,kBAAkB,CAAC,WAAW,CAAC,EAAE;QAChC,UAAU,EAAE,CAAC,MAAM,CAAC;KACrB;CACF,CAAC;AAEF,IAAK,mBAEJ;AAFD,WAAK,mBAAmB;IACtB,kDAA2B,CAAA;AAC7B,CAAC,EAFI,mBAAmB,KAAnB,mBAAmB,QAEvB;AAED,MAAM,oBAAoB,GAAsC;IAC9D,CAAC,mBAAmB,CAAC,WAAW,CAAC,EAAE;QACjC,UAAU,EAAE,CAAC,OAAO,CAAC;KACtB;CACF,CAAC;AAEF,IAAK,mBAIJ;AAJD,WAAK,mBAAmB;IACtB,sCAAe,CAAA;IACf,kCAAW,CAAA;IACX,kCAAW,CAAA;AACb,CAAC,EAJI,mBAAmB,KAAnB,mBAAmB,QAIvB;AAED,MAAM,oBAAoB,GAAsC;IAC9D,CAAC,mBAAmB,CAAC,KAAK,CAAC,EAAE;QAC3B,UAAU,EAAE,CAAC,SAAS,CAAC;QACvB,SAAS,EAAE,IAAI;KAChB;IACD,CAAC,mBAAmB,CAAC,GAAG,CAAC,EAAE;QACzB,UAAU,EAAE,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,CAAC;KAC7D;IACD,CAAC,mBAAmB,CAAC,GAAG,CAAC,EAAE;QACzB,UAAU,EAAE,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,CAAC;KAC7D;CACF,CAAC;AAEF,IAAK,mBAIJ;AAJD,WAAK,mBAAmB;IACtB,8CAAuB,CAAA;IACvB,0CAAmB,CAAA;IACnB,4CAAqB,CAAA;AACvB,CAAC,EAJI,mBAAmB,KAAnB,mBAAmB,QAIvB;AAED,MAAM,oBAAoB,GAAsC;IAC9D,CAAC,mBAAmB,CAAC,SAAS,CAAC,EAAE;QAC/B,UAAU,EAAE,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC,CAAC;KACnF;IACD,CAAC,mBAAmB,CAAC,OAAO,CAAC,EAAE;QAC7B,UAAU,EAAE,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC;KACtE;IACD,CAAC,mBAAmB,CAAC,QAAQ,CAAC,EAAE;QAC9B,UAAU,EAAE,CAAC,OAAO,CAAC;QACrB,YAAY,EAAE,KAAK;KACpB;CACF,CAAC;AAEF,IAAK,iBAGJ;AAHD,WAAK,iBAAiB;IACpB,kDAA6B,CAAA;IAC7B,gDAA2B,CAAA;AAC7B,CAAC,EAHI,iBAAiB,KAAjB,iBAAiB,QAGrB;AAED,MAAM,kBAAkB,GAAoC;IAC1D,CAAC,iBAAiB,CAAC,YAAY,CAAC,EAAE;QAChC,UAAU,EAAE,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC,CAAC;QAClE,YAAY,EAAE,KAAK;KACpB;IACD,CAAC,iBAAiB,CAAC,WAAW,CAAC,EAAE;QAC/B,UAAU,EAAE,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC,CAAC;QACnE,YAAY,EAAE,KAAK;KACpB;CACF,CAAC;AAEF,IAAK,mBAKJ;AALD,WAAK,mBAAmB;IACtB,sCAAe,CAAA;IACf,wCAAiB,CAAA;IACjB,sCAAe,CAAA;IACf,4CAAqB,CAAA;AACvB,CAAC,EALI,mBAAmB,KAAnB,mBAAmB,QAKvB;AAED,MAAM,oBAAoB,GAAsC;IAC9D,CAAC,mBAAmB,CAAC,KAAK,CAAC,EAAE;QAC3B,UAAU,EAAE,CAAC,SAAS,CAAC;QACvB,SAAS,EAAE,IAAI;KAChB;IACD,CAAC,mBAAmB,CAAC,MAAM,CAAC,EAAE;QAC5B,UAAU,EAAE,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC;KACjF;IACD,CAAC,mBAAmB,CAAC,KAAK,CAAC,EAAE;QAC3B,UAAU,EAAE,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC,CAAC;KAClF;IACD,CAAC,mBAAmB,CAAC,QAAQ,CAAC,EAAE;QAC9B,UAAU,EAAE,CAAC,OAAO,CAAC;QACrB,YAAY,EAAE,KAAK;KACpB;CACF,CAAC;AAEF,IAAK,oBAIJ;AAJD,WAAK,oBAAoB;IACvB,uCAAe,CAAA;IACf,+CAAuB,CAAA;IACvB,6CAAqB,CAAA;AACvB,CAAC,EAJI,oBAAoB,KAApB,oBAAoB,QAIxB;AAED,MAAM,qBAAqB,GAAuC;IAChE,CAAC,mBAAmB,CAAC,KAAK,CAAC,EAAE;QAC3B,UAAU,EAAE,CAAC,SAAS,CAAC;QACvB,SAAS,EAAE,IAAI;KAChB;IACD,CAAC,oBAAoB,CAAC,SAAS,CAAC,EAAE;QAChC,UAAU,EAAE,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QACtC,SAAS,EAAE,IAAI;KAChB;IACD,CAAC,oBAAoB,CAAC,QAAQ,CAAC,EAAE;QAC/B,UAAU,EAAE,CAAC,OAAO,CAAC;QACrB,YAAY,EAAE,KAAK;KACpB;CACF,CAAC;AAEF,IAAK,mBAGJ;AAHD,WAAK,mBAAmB;IACtB,8CAAuB,CAAA;IACvB,4CAAqB,CAAA;AACvB,CAAC,EAHI,mBAAmB,KAAnB,mBAAmB,QAGvB;AAED,MAAM,oBAAoB,GAAsC;IAC9D,CAAC,mBAAmB,CAAC,SAAS,CAAC,EAAE;QAC/B,UAAU,EAAE,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QACtC,SAAS,EAAE,IAAI;KAChB;IACD,CAAC,mBAAmB,CAAC,QAAQ,CAAC,EAAE;QAC9B,UAAU,EAAE,CAAC,OAAO,CAAC;QACrB,YAAY,EAAE,KAAK;KACpB;CACF,CAAC;AAEF,IAAK,gBAOJ;AAPD,WAAK,gBAAgB;IACnB,qDAAiC,CAAA;IACjC,yCAAqB,CAAA;IACrB,yCAAqB,CAAA;IACrB,uCAAmB,CAAA;IACnB,iDAA6B,CAAA;IAC7B,uDAAmC,CAAA;AACrC,CAAC,EAPI,gBAAgB,KAAhB,gBAAgB,QAOpB;AAED,MAAM,iBAAiB,GAAmC;IACxD,CAAC,gBAAgB,CAAC,cAAc,CAAC,EAAE;QACjC,UAAU,EAAE,CAAC,iBAAiB,CAAC;KAChC;IACD,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE;QAC3B,UAAU,EAAE,CAAC,iBAAiB,CAAC;KAChC;IACD,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE;QAC3B,UAAU,EAAE,CAAC,iBAAiB,CAAC;KAChC;IACD,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE;QAC1B,UAAU,EAAE,CAAC,0BAA0B,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KAC/C;IACD,CAAC,gBAAgB,CAAC,YAAY,CAAC,EAAE;QAC/B,UAAU,EAAE,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;KACvC;IACD,CAAC,gBAAgB,CAAC,eAAe,CAAC,EAAE;QAClC,UAAU,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC;KACpC;CACF,CAAC;AAEF,MAAM,CAAC,MAAM,cAAc,GAAiD;IAC1E,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,kBAAkB;IACnC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,mBAAmB;IACrC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,mBAAmB;IACrC,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,mBAAmB;IACtC,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,eAAe;IAChC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,mBAAmB;IACrC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,iBAAiB;IACjC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,mBAAmB;IACrC,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,oBAAoB;IACvC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,mBAAmB;IACrC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,gBAAgB;CAChC,CAAC;AAEF,MAAM,CAAC,MAAM,eAAe,GAAiD;IAC3E,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,mBAAmB;IACpC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,oBAAoB;IACtC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,oBAAoB;IACtC,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,oBAAoB;IACvC,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,gBAAgB;IACjC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,oBAAoB;IACtC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,kBAAkB;IAClC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,oBAAoB;IACtC,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,qBAAqB;IACxC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,oBAAoB;IACtC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,iBAAiB;CACjC,CAAC","sourcesContent":["import { VALIDATORS } from './validation';\nimport { DatasourceProps as AdapterResetParams } from './datasource';\nimport { AdapterProcess as Process } from '../processes/misc/enums';\nimport { ICommonProps, AdapterProcessMap } from '../interfaces/index';\n\nconst {\n  INTEGER,\n  INTEGER_UNLIMITED,\n  BOOLEAN,\n  OBJECT,\n  ITEM_LIST,\n  FUNC_WITH_X_ARGUMENTS,\n  FUNC_WITH_X_AND_MORE_ARGUMENTS,\n  FUNC_WITH_X_TO_Y_ARGUMENTS,\n  ONE_OF_MUST,\n  ONE_OF_CAN,\n  OR,\n} = VALIDATORS;\n\nenum AdapterNoParams { }\nconst NO_METHOD_PARAMS: ICommonProps<AdapterNoParams> = {};\n\nconst RESET_METHOD_PARAMS: ICommonProps<AdapterResetParams> = {\n  [AdapterResetParams.get]: {\n    validators: [FUNC_WITH_X_AND_MORE_ARGUMENTS(2)]\n  },\n  [AdapterResetParams.settings]: {\n    validators: [OBJECT]\n  },\n  [AdapterResetParams.devSettings]: {\n    validators: [OBJECT]\n  },\n};\n\nenum AdapterReloadParams {\n  reloadIndex = 'reloadIndex',\n}\n\nconst RELOAD_METHOD_PARAMS: ICommonProps<AdapterReloadParams> = {\n  [AdapterReloadParams.reloadIndex]: {\n    validators: [INTEGER]\n  },\n};\n\nenum AdapterAppendParams {\n  items = 'items',\n  bof = 'bof',\n  eof = 'eof',\n}\n\nconst APPEND_METHOD_PARAMS: ICommonProps<AdapterAppendParams> = {\n  [AdapterAppendParams.items]: {\n    validators: [ITEM_LIST],\n    mandatory: true\n  },\n  [AdapterAppendParams.bof]: {\n    validators: [BOOLEAN, ONE_OF_CAN([AdapterAppendParams.eof])]\n  },\n  [AdapterAppendParams.eof]: {\n    validators: [BOOLEAN, ONE_OF_CAN([AdapterAppendParams.bof])]\n  },\n};\n\nenum AdapterRemoveParams {\n  predicate = 'predicate',\n  indexes = 'indexes',\n  increase = 'increase',\n}\n\nconst REMOVE_METHOD_PARAMS: ICommonProps<AdapterRemoveParams> = {\n  [AdapterRemoveParams.predicate]: {\n    validators: [FUNC_WITH_X_ARGUMENTS(1), ONE_OF_MUST([AdapterRemoveParams.indexes])]\n  },\n  [AdapterRemoveParams.indexes]: {\n    validators: [ITEM_LIST, ONE_OF_MUST([AdapterRemoveParams.predicate])]\n  },\n  [AdapterRemoveParams.increase]: {\n    validators: [BOOLEAN],\n    defaultValue: false\n  },\n};\n\nenum AdapterClipParams {\n  backwardOnly = 'backwardOnly',\n  forwardOnly = 'forwardOnly',\n}\n\nconst CLIP_METHOD_PARAMS: ICommonProps<AdapterClipParams> = {\n  [AdapterClipParams.backwardOnly]: {\n    validators: [BOOLEAN, ONE_OF_CAN([AdapterClipParams.forwardOnly])],\n    defaultValue: false\n  },\n  [AdapterClipParams.forwardOnly]: {\n    validators: [BOOLEAN, ONE_OF_CAN([AdapterClipParams.backwardOnly])],\n    defaultValue: false\n  },\n};\n\nenum AdapterInsertParams {\n  items = 'items',\n  before = 'before',\n  after = 'after',\n  decrease = 'decrease',\n}\n\nconst INSERT_METHOD_PARAMS: ICommonProps<AdapterInsertParams> = {\n  [AdapterInsertParams.items]: {\n    validators: [ITEM_LIST],\n    mandatory: true\n  },\n  [AdapterInsertParams.before]: {\n    validators: [FUNC_WITH_X_ARGUMENTS(1), ONE_OF_MUST([AdapterInsertParams.after])]\n  },\n  [AdapterInsertParams.after]: {\n    validators: [FUNC_WITH_X_ARGUMENTS(1), ONE_OF_MUST([AdapterInsertParams.before])]\n  },\n  [AdapterInsertParams.decrease]: {\n    validators: [BOOLEAN],\n    defaultValue: false\n  },\n};\n\nenum AdapterReplaceParams {\n  items = 'items',\n  predicate = 'predicate',\n  fixRight = 'fixRight',\n}\n\nconst REPLACE_METHOD_PARAMS: ICommonProps<AdapterReplaceParams> = {\n  [AdapterInsertParams.items]: {\n    validators: [ITEM_LIST],\n    mandatory: true\n  },\n  [AdapterReplaceParams.predicate]: {\n    validators: [FUNC_WITH_X_ARGUMENTS(1)],\n    mandatory: true\n  },\n  [AdapterReplaceParams.fixRight]: {\n    validators: [BOOLEAN],\n    defaultValue: false\n  }\n};\n\nenum AdapterUpdateParams {\n  predicate = 'predicate',\n  fixRight = 'fixRight',\n}\n\nconst UPDATE_METHOD_PARAMS: ICommonProps<AdapterUpdateParams> = {\n  [AdapterUpdateParams.predicate]: {\n    validators: [FUNC_WITH_X_ARGUMENTS(1)],\n    mandatory: true\n  },\n  [AdapterUpdateParams.fixRight]: {\n    validators: [BOOLEAN],\n    defaultValue: false\n  },\n};\n\nenum AdapterFixParams {\n  scrollPosition = 'scrollPosition',\n  minIndex = 'minIndex',\n  maxIndex = 'maxIndex',\n  updater = 'updater',\n  scrollToItem = 'scrollToItem',\n  scrollToItemOpt = 'scrollToItemOpt',\n}\n\nconst FIX_METHOD_PARAMS: ICommonProps<AdapterFixParams> = {\n  [AdapterFixParams.scrollPosition]: {\n    validators: [INTEGER_UNLIMITED]\n  },\n  [AdapterFixParams.minIndex]: {\n    validators: [INTEGER_UNLIMITED]\n  },\n  [AdapterFixParams.maxIndex]: {\n    validators: [INTEGER_UNLIMITED]\n  },\n  [AdapterFixParams.updater]: {\n    validators: [FUNC_WITH_X_TO_Y_ARGUMENTS(1, 2)]\n  },\n  [AdapterFixParams.scrollToItem]: {\n    validators: [FUNC_WITH_X_ARGUMENTS(1)]\n  },\n  [AdapterFixParams.scrollToItemOpt]: {\n    validators: [OR([BOOLEAN, OBJECT])]\n  },\n};\n\nexport const AdapterMethods: AdapterProcessMap<{ [key: string]: string }> = {\n  [Process.reset]: AdapterResetParams,\n  [Process.reload]: AdapterReloadParams,\n  [Process.append]: AdapterAppendParams,\n  [Process.prepend]: AdapterAppendParams,\n  [Process.check]: AdapterNoParams,\n  [Process.remove]: AdapterRemoveParams,\n  [Process.clip]: AdapterClipParams,\n  [Process.insert]: AdapterInsertParams,\n  [Process.replace]: AdapterReplaceParams,\n  [Process.update]: AdapterUpdateParams,\n  [Process.fix]: AdapterFixParams,\n};\n\nexport const ADAPTER_METHODS: AdapterProcessMap<ICommonProps<PropertyKey>> = {\n  [Process.reset]: RESET_METHOD_PARAMS,\n  [Process.reload]: RELOAD_METHOD_PARAMS,\n  [Process.append]: APPEND_METHOD_PARAMS,\n  [Process.prepend]: APPEND_METHOD_PARAMS,\n  [Process.check]: NO_METHOD_PARAMS,\n  [Process.remove]: REMOVE_METHOD_PARAMS,\n  [Process.clip]: CLIP_METHOD_PARAMS,\n  [Process.insert]: INSERT_METHOD_PARAMS,\n  [Process.replace]: REPLACE_METHOD_PARAMS,\n  [Process.update]: UPDATE_METHOD_PARAMS,\n  [Process.fix]: FIX_METHOD_PARAMS,\n};\n"]}