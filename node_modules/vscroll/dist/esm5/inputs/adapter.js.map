{"version":3,"file":"adapter.js","sourceRoot":"","sources":["../../../src/inputs/adapter.ts"],"names":[],"mappings":"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","sourcesContent":["import { VALIDATORS } from './validation';\nimport { DatasourceProps as AdapterResetParams } from './datasource';\nimport { AdapterProcess as Process } from '../processes/misc/enums';\nimport { ICommonProps, AdapterProcessMap } from '../interfaces/index';\n\nconst {\n  INTEGER,\n  INTEGER_UNLIMITED,\n  BOOLEAN,\n  OBJECT,\n  ITEM_LIST,\n  FUNC_WITH_X_ARGUMENTS,\n  FUNC_WITH_X_AND_MORE_ARGUMENTS,\n  FUNC_WITH_X_TO_Y_ARGUMENTS,\n  ONE_OF_MUST,\n  ONE_OF_CAN,\n  OR,\n} = VALIDATORS;\n\nenum AdapterNoParams { }\nconst NO_METHOD_PARAMS: ICommonProps<AdapterNoParams> = {};\n\nconst RESET_METHOD_PARAMS: ICommonProps<AdapterResetParams> = {\n  [AdapterResetParams.get]: {\n    validators: [FUNC_WITH_X_AND_MORE_ARGUMENTS(2)]\n  },\n  [AdapterResetParams.settings]: {\n    validators: [OBJECT]\n  },\n  [AdapterResetParams.devSettings]: {\n    validators: [OBJECT]\n  },\n};\n\nenum AdapterReloadParams {\n  reloadIndex = 'reloadIndex',\n}\n\nconst RELOAD_METHOD_PARAMS: ICommonProps<AdapterReloadParams> = {\n  [AdapterReloadParams.reloadIndex]: {\n    validators: [INTEGER]\n  },\n};\n\nenum AdapterAppendParams {\n  items = 'items',\n  bof = 'bof',\n  eof = 'eof',\n}\n\nconst APPEND_METHOD_PARAMS: ICommonProps<AdapterAppendParams> = {\n  [AdapterAppendParams.items]: {\n    validators: [ITEM_LIST],\n    mandatory: true\n  },\n  [AdapterAppendParams.bof]: {\n    validators: [BOOLEAN, ONE_OF_CAN([AdapterAppendParams.eof])]\n  },\n  [AdapterAppendParams.eof]: {\n    validators: [BOOLEAN, ONE_OF_CAN([AdapterAppendParams.bof])]\n  },\n};\n\nenum AdapterRemoveParams {\n  predicate = 'predicate',\n  indexes = 'indexes',\n  increase = 'increase',\n}\n\nconst REMOVE_METHOD_PARAMS: ICommonProps<AdapterRemoveParams> = {\n  [AdapterRemoveParams.predicate]: {\n    validators: [FUNC_WITH_X_ARGUMENTS(1), ONE_OF_MUST([AdapterRemoveParams.indexes])]\n  },\n  [AdapterRemoveParams.indexes]: {\n    validators: [ITEM_LIST, ONE_OF_MUST([AdapterRemoveParams.predicate])]\n  },\n  [AdapterRemoveParams.increase]: {\n    validators: [BOOLEAN],\n    defaultValue: false\n  },\n};\n\nenum AdapterClipParams {\n  backwardOnly = 'backwardOnly',\n  forwardOnly = 'forwardOnly',\n}\n\nconst CLIP_METHOD_PARAMS: ICommonProps<AdapterClipParams> = {\n  [AdapterClipParams.backwardOnly]: {\n    validators: [BOOLEAN, ONE_OF_CAN([AdapterClipParams.forwardOnly])],\n    defaultValue: false\n  },\n  [AdapterClipParams.forwardOnly]: {\n    validators: [BOOLEAN, ONE_OF_CAN([AdapterClipParams.backwardOnly])],\n    defaultValue: false\n  },\n};\n\nenum AdapterInsertParams {\n  items = 'items',\n  before = 'before',\n  after = 'after',\n  decrease = 'decrease',\n}\n\nconst INSERT_METHOD_PARAMS: ICommonProps<AdapterInsertParams> = {\n  [AdapterInsertParams.items]: {\n    validators: [ITEM_LIST],\n    mandatory: true\n  },\n  [AdapterInsertParams.before]: {\n    validators: [FUNC_WITH_X_ARGUMENTS(1), ONE_OF_MUST([AdapterInsertParams.after])]\n  },\n  [AdapterInsertParams.after]: {\n    validators: [FUNC_WITH_X_ARGUMENTS(1), ONE_OF_MUST([AdapterInsertParams.before])]\n  },\n  [AdapterInsertParams.decrease]: {\n    validators: [BOOLEAN],\n    defaultValue: false\n  },\n};\n\nenum AdapterReplaceParams {\n  items = 'items',\n  predicate = 'predicate',\n  fixRight = 'fixRight',\n}\n\nconst REPLACE_METHOD_PARAMS: ICommonProps<AdapterReplaceParams> = {\n  [AdapterInsertParams.items]: {\n    validators: [ITEM_LIST],\n    mandatory: true\n  },\n  [AdapterReplaceParams.predicate]: {\n    validators: [FUNC_WITH_X_ARGUMENTS(1)],\n    mandatory: true\n  },\n  [AdapterReplaceParams.fixRight]: {\n    validators: [BOOLEAN],\n    defaultValue: false\n  }\n};\n\nenum AdapterUpdateParams {\n  predicate = 'predicate',\n  fixRight = 'fixRight',\n}\n\nconst UPDATE_METHOD_PARAMS: ICommonProps<AdapterUpdateParams> = {\n  [AdapterUpdateParams.predicate]: {\n    validators: [FUNC_WITH_X_ARGUMENTS(1)],\n    mandatory: true\n  },\n  [AdapterUpdateParams.fixRight]: {\n    validators: [BOOLEAN],\n    defaultValue: false\n  },\n};\n\nenum AdapterFixParams {\n  scrollPosition = 'scrollPosition',\n  minIndex = 'minIndex',\n  maxIndex = 'maxIndex',\n  updater = 'updater',\n  scrollToItem = 'scrollToItem',\n  scrollToItemOpt = 'scrollToItemOpt',\n}\n\nconst FIX_METHOD_PARAMS: ICommonProps<AdapterFixParams> = {\n  [AdapterFixParams.scrollPosition]: {\n    validators: [INTEGER_UNLIMITED]\n  },\n  [AdapterFixParams.minIndex]: {\n    validators: [INTEGER_UNLIMITED]\n  },\n  [AdapterFixParams.maxIndex]: {\n    validators: [INTEGER_UNLIMITED]\n  },\n  [AdapterFixParams.updater]: {\n    validators: [FUNC_WITH_X_TO_Y_ARGUMENTS(1, 2)]\n  },\n  [AdapterFixParams.scrollToItem]: {\n    validators: [FUNC_WITH_X_ARGUMENTS(1)]\n  },\n  [AdapterFixParams.scrollToItemOpt]: {\n    validators: [OR([BOOLEAN, OBJECT])]\n  },\n};\n\nexport const AdapterMethods: AdapterProcessMap<{ [key: string]: string }> = {\n  [Process.reset]: AdapterResetParams,\n  [Process.reload]: AdapterReloadParams,\n  [Process.append]: AdapterAppendParams,\n  [Process.prepend]: AdapterAppendParams,\n  [Process.check]: AdapterNoParams,\n  [Process.remove]: AdapterRemoveParams,\n  [Process.clip]: AdapterClipParams,\n  [Process.insert]: AdapterInsertParams,\n  [Process.replace]: AdapterReplaceParams,\n  [Process.update]: AdapterUpdateParams,\n  [Process.fix]: AdapterFixParams,\n};\n\nexport const ADAPTER_METHODS: AdapterProcessMap<ICommonProps<PropertyKey>> = {\n  [Process.reset]: RESET_METHOD_PARAMS,\n  [Process.reload]: RELOAD_METHOD_PARAMS,\n  [Process.append]: APPEND_METHOD_PARAMS,\n  [Process.prepend]: APPEND_METHOD_PARAMS,\n  [Process.check]: NO_METHOD_PARAMS,\n  [Process.remove]: REMOVE_METHOD_PARAMS,\n  [Process.clip]: CLIP_METHOD_PARAMS,\n  [Process.insert]: INSERT_METHOD_PARAMS,\n  [Process.replace]: REPLACE_METHOD_PARAMS,\n  [Process.update]: UPDATE_METHOD_PARAMS,\n  [Process.fix]: FIX_METHOD_PARAMS,\n};\n"]}