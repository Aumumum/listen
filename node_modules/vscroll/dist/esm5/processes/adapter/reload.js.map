{"version":3,"file":"reload.js","sourceRoot":"","sources":["../../../../src/processes/adapter/reload.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,yBAAyB,EAAE,cAAc,EAAE,aAAa,EAAE,MAAM,eAAe,CAAC;AAGzF;IAAoC,0BAAgD;IAApF;;IAwBA,CAAC;IAtBQ,UAAG,GAAV,UAAW,QAAkB,EAAE,WAAmB;QACxC,IAAA,QAAQ,GAAoB,QAAQ,SAA5B,EAAE,KAAK,GAAa,QAAQ,MAArB,EAAE,MAAM,GAAK,QAAQ,OAAb,CAAc;QAErC,IAAA,MAAM,GAAK,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,WAAW,aAAA,EAAE,EAAE,IAAI,CAAC,OAAvD,CAAwD;QAEtE,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;QAC1D,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QAElC,IAAM,OAAO,GAAmB,EAAE,CAAC;QACnC,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE;YAC1B,KAAK,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC;YAClC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;YACxB,KAAK,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC;SAC1C;QAED,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC;YACrB,OAAO,EAAE,MAAM,CAAC,OAAO;YACvB,MAAM,EAAE,aAAa,CAAC,IAAI;YAC1B,OAAO,SAAA;SACR,CAAC,CAAC;IACL,CAAC;IAEH,aAAC;AAAD,CAAC,AAxBD,CAAoC,yBAAyB,CAAC,cAAc,CAAC,MAAM,CAAC,GAwBnF","sourcesContent":["import { Scroller } from '../../scroller';\nimport { BaseAdapterProcessFactory, AdapterProcess, ProcessStatus } from '../misc/index';\nimport { ProcessPayload } from '../../interfaces/index';\n\nexport default class Reload extends BaseAdapterProcessFactory(AdapterProcess.reload) {\n\n  static run(scroller: Scroller, reloadIndex: number): void {\n    const { viewport, state, buffer } = scroller;\n\n    const { params } = Reload.parseInput(scroller, { reloadIndex }, true);\n\n    buffer.reset(false, params ? params.reloadIndex : void 0);\n    viewport.reset(buffer.startIndex);\n\n    const payload: ProcessPayload = {};\n    if (state.cycle.busy.get()) {\n      state.scrollState.cleanupTimers();\n      payload.finalize = true;\n      state.cycle.interrupter = Reload.process;\n    }\n\n    scroller.workflow.call({\n      process: Reload.process,\n      status: ProcessStatus.next,\n      payload\n    });\n  }\n\n}\n"]}