{"remainingRequest":"C:\\Users\\Aum\\listen\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Aum\\listen\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Aum\\listen\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Aum\\listen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Aum\\listen\\src\\components\\detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Aum\\listen\\src\\components\\detail.vue","mtime":1631717025906},{"path":"C:\\Users\\Aum\\listen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Aum\\listen\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Aum\\listen\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Aum\\listen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Aum\\listen\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0UGxheWxpc3REZXRhaWwsIGdldFNvbmdEZXRhaWwgfSBmcm9tICIuLi9hcGkvaW5kZXgiOwppbXBvcnQgUGxheUxpc3QgZnJvbSAiLi9wbGF5TGlzdC52dWUiOwppbXBvcnQgeyBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZXRhaWw6IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBjb3ZlckltZ1VybDogIiIsCiAgICAgICAgdGFnczogW10sCiAgICAgICAgdHJhY2tDb3VudDogMCwKICAgICAgICBwbGF5Q291bnQ6IDAsCiAgICAgICAgZGVzY3JpcHRpb246ICIiCiAgICAgIH0sCiAgICAgIHRiRGF0YTogW10KICAgIH07CiAgfSwKCiAgY29tcG9uZW50czogewogICAgUGxheUxpc3QKICB9LAogIHByb3BzOiBbImlkIl0sCiAgbWV0aG9kczogeyAuLi5tYXBNdXRhdGlvbnMoInBsYXllckFib3V0IiwgWyJjaGFuZ2VQbGF5aW5nSW5kZXgiLCAicHVzaEFsbCJdKSwKCiAgICB0aW1lRm9ybXQodmFsdWUpIHsKICAgICAgdmFsdWUgPSBNYXRoLmNlaWwodmFsdWUgLyAxMDAwKTsKICAgICAgbGV0IG0gPSBwYXJzZUludCh2YWx1ZSAvIDYwKTsKICAgICAgbGV0IHMgPSB2YWx1ZSAlIDYwOwogICAgICBpZiAocyA8IDEwKSBzID0gIjAiICsgczsKICAgICAgcmV0dXJuIG0gKyAiOiIgKyBzOwogICAgfSwKCiAgICBwbGF5QWxsKCkgewogICAgICB0aGlzLiRjb25maXJtKCcnLCAn6K+l5pON5L2c5Lya5riF56m65b2T5YmN5pKt5pS+5YiX6KGo77yM5piv5ZCm57un57ut77yfJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICBjZW50ZXI6IHRydWUsCiAgICAgICAgcm91bmRCdXR0b246IHRydWUsCiAgICAgICAgc2hvd0Nsb3NlOiBmYWxzZQogICAgICB9KS50aGVuKGFjdGlvbiA9PiB7CiAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ2NvbmZpcm0nKSB7CiAgICAgICAgICB0aGlzLnB1c2hBbGwodGhpcy50YkRhdGEpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOaSreaUvuWFqOmDqCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAoKICAgIGxvYWQoKSB7CiAgICAgIGdldFBsYXlsaXN0RGV0YWlsKHsKICAgICAgICBpZDogdGhpcy5pZAogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBsZXQgb2JqID0gcmVzcG9uc2UuZGF0YS5wbGF5bGlzdDsKICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmRldGFpbCkuZm9yRWFjaChrZXkgPT4gewogICAgICAgICAgdGhpcy5kZXRhaWxba2V5XSA9IG9ialtrZXldOwogICAgICAgIH0pOwogICAgICAgIGxldCBpZHMgPSBbXTsKICAgICAgICBvYmoudHJhY2tJZHMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgIGlkc1tpbmRleF0gPSBpdGVtLmlkOwogICAgICAgIH0pOwogICAgICAgIGdldFNvbmdEZXRhaWwoewogICAgICAgICAgaWRzOiBpZHMudG9TdHJpbmcoKQogICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgbGV0IGFyciA9IHJlc3BvbnNlLmRhdGEuc29uZ3M7CiAgICAgICAgICB0aGlzLnRiRGF0YSA9IGFyci5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsKICAgICAgICAgICAgICBzZXJpYWw6IGluZGV4IDwgOSA/ICIwIiArIChpbmRleCArIDEpIDogaW5kZXggKyAxLAogICAgICAgICAgICAgIHRpdGxlOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgcG9wOiBpdGVtLnBvcCwKICAgICAgICAgICAgICBzaW5nZXI6IGl0ZW0uYXJbMF0ubmFtZSwKICAgICAgICAgICAgICBhbGJ1bTogaXRlbS5hbC5uYW1lLAogICAgICAgICAgICAgIGR1cmF0aW9uOiBpdGVtLmR0LAogICAgICAgICAgICAgIGZvcm1UaW1lOiB0aGlzLnRpbWVGb3JtdChpdGVtLmR0KSwKICAgICAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgICAgICBwaWNVcmw6IGl0ZW0uYWwucGljVXJsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRiRGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICB9LAoKICBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMubG9hZCgpOwogIH0KCn07"},{"version":3,"sources":["detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <div class=\"ad\">\r\n      <img :src=\"detail.coverImgUrl\" lazy alt=\"歌单封面\" />\r\n      <span class=\"dis\">\r\n        <h2>{{ detail.name }}</h2>\r\n        <el-button icon=\"el-icon-video-play\" type=\"warning\" round\r\n          @click=\"playAll\">播放全部</el-button\r\n        ><br />\r\n        <span><strong>标签：</strong>{{ detail.tags }}</span\r\n        ><br />\r\n        <span><strong>歌曲：</strong>{{ detail.trackCount }}</span\r\n        >｜<span><strong>播放：</strong>{{ detail.playCount }}</span\r\n        ><br />\r\n        <span class=\"di\"><strong>简介：</strong>{{ detail.description }}</span>\r\n      </span>\r\n    </div>\r\n    <PlayList :tbData=\"tbData\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getPlaylistDetail,getSongDetail } from \"../api/index\";\r\nimport PlayList from \"./playList.vue\";\r\n\r\nimport { mapMutations } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      detail: {\r\n        name: \"\",\r\n        coverImgUrl: \"\",\r\n        tags: [],\r\n        trackCount: 0,\r\n        playCount: 0,\r\n        description: \"\",\r\n      },\r\n      tbData: [],\r\n    };\r\n  },\r\n  components: { PlayList },\r\n  props: [\"id\"],\r\n  methods: {\r\n    \r\n    ...mapMutations(\"playerAbout\", [\"changePlayingIndex\",\"pushAll\"]),\r\n     timeFormt(value) {\r\n      value = Math.ceil(value / 1000);\r\n      let m = parseInt(value / 60);\r\n      let s = value % 60;\r\n      if (s < 10) s = \"0\" + s;\r\n      return m + \":\" + s;\r\n    },\r\nplayAll(){\r\n  \r\n\r\nthis.$confirm('', '该操作会清空当前播放列表，是否继续？', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          center:true,\r\n          roundButton:true,\r\n          showClose:false\r\n        })\r\n        .then(action => {\r\n          if (action === 'confirm') {\r\n            this.pushAll(this.tbData)\r\n          }\r\n        })\r\n\r\n        \r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消播放全部'\r\n          });  \r\n        })  \r\n\r\n\r\n\r\n},\r\n    load() {\r\n      getPlaylistDetail({ id: this.id }).then((response) => {\r\n        let obj = response.data.playlist;\r\n        Object.keys(this.detail).forEach((key) => {\r\n          this.detail[key] = obj[key];\r\n        });\r\n        let ids = [];\r\n        obj.trackIds.forEach((item,index) => {\r\n          ids[index]= item.id\r\n        });\r\ngetSongDetail({ids:ids.toString()}).then(response=>{\r\n   let arr = response.data.songs\r\n          this.tbData = arr.map((item, index) => {\r\n          return Object.assign({\r\n            serial: index < 9 ? \"0\" + (index + 1) : index + 1,\r\n            title:  item.name,\r\n            pop: item.pop,\r\n            singer: item.ar[0].name,\r\n            album: item.al.name,\r\n            duration: item.dt,\r\n            formTime: this.timeFormt(item.dt),\r\n            id: item.id,\r\n            picUrl: item.al.picUrl, \r\n        }); \r\n        \r\n       })\r\n    console.log(this.tbData)\r\n})\r\n      });\r\n    },\r\n  },\r\n  beforeMount() {\r\n    this.load();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.main {\r\n  height: 100%;\r\n}\r\n.ad {\r\n  display: -webkit-flex;\r\n  display: flex;\r\n  color: #494747;\r\n}\r\nimg {\r\n  width: 180px;\r\n  height: 180px;\r\n  padding: 0 20px;\r\n}\r\n.dis {\r\n  position: relative;\r\n  top: -20px;\r\n  height: 200px;\r\n  overflow: hidden;\r\n}\r\n.dis:hover {\r\n  height: auto;\r\n  overflow: visible;\r\n}\r\n.dis span {\r\n  line-height: 33px;\r\n}\r\n\r\n.di {\r\n  white-space: pre-wrap;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}