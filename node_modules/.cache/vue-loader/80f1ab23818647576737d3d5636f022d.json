{"remainingRequest":"C:\\Users\\Aum\\listen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Aum\\listen\\src\\components\\player.vue?vue&type=style&index=0&id=1bcde71e&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Aum\\listen\\src\\components\\player.vue","mtime":1631193778331},{"path":"C:\\Users\\Aum\\listen\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Aum\\listen\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Aum\\listen\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Aum\\listen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Aum\\listen\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5wbGF5ZXIgew0KICBwb3NpdGlvbjogZml4ZWQ7DQogIGJvdHRvbTogMDsNCiAgcmlnaHQ6IDA7DQogIGxlZnQ6IDA7DQogIGhlaWdodDogNjBweDsNCiAgbWluLXdpZHRoOiA5NjBweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMDQsIDEyNywgMTI3LCAwLjUpOw0KICAtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogc2F0dXJhdGUoMTgwJSkgYmx1cig0MHB4KTsNCiAgYmFja2Ryb3AtZmlsdGVyOiBzYXR1cmF0ZSgxODAlKSBibHVyKDQwcHgpOw0KICBjb2xvcjogI2ZmZmZmZmYxOw0KICBsZXR0ZXItc3BhY2luZzogMS41cHg7DQogIGZvbnQ6IHNtYWxsLWNhcHMgYm9sZCAxNnB4IHNhbnMtc2VyaWY7DQogIGJveC1zaXppbmc6IGNvbnRlbnQtYm94Ow0KICBib3JkZXItdG9wOiA4cHggc29saWQgdHJhbnNwYXJlbnQ7DQogIHotaW5kZXg6IDk5Ow0KfQ0KLnBsYXllciAvZGVlcC8gLmVsLXNsaWRlcl9fYnV0dG9uIHsNCiAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgYm9yZGVyOiAzcHggc29saWQgI2NjN2Y3ZjljOw0KICBvcGFjaXR5OiAwOw0KfQ0KLnBsYXllciAvZGVlcC8gLmVsLXNsaWRlcl9fYnV0dG9uOmhvdmVyIHsNCiAgb3BhY2l0eTogMTsNCn0NCi5wbGF5ZXIgL2RlZXAvIC5lbC1zbGlkZXJfX2JhciB7DQogIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgI2ZmMDg0NCAwJSwgI2ZmYjE5OSAxMDAlKTsNCiAgaGVpZ2h0OiA0cHg7DQp9DQoucGxheWVyIC9kZWVwLyAuZWwtc2xpZGVyX19ydW53YXkgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIwNCwgMTI3LCAxMjcsIDAuMzE1KTsNCiAgaGVpZ2h0OiA0cHg7DQp9DQoucGxheWVyIC9kZWVwLyAuZWwtc2xpZGVyX19idXR0b24td3JhcHBlciB7DQogIHRvcDogLTE2cHg7DQp9DQouc21hbGwgew0KICBmb250LXNpemU6IDEycHg7DQogIGNvbG9yOiAjY2Q3MjcyOw0KfQ0KLm1pZCB7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgdG9wOiAtOHB4Ow0KICBwYWRkaW5nOiAwIDEwcHg7DQogIGZvbnQtc2l6ZTogMjdweDsNCn0NCmkgew0KICBjb2xvcjogI2NjYThhOGVlOw0KfQ0KaTpob3ZlciB7DQogIGNvbG9yOiAjZmZmOw0KfQ0KLmR1cmF0aW9uIHsNCiAgcGFkZGluZzogMCAxMHB4Ow0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIHRvcDogLTEzcHg7DQp9DQoudGltZSB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgdG9wOiAtMjRweDsNCiAgd2lkdGg6IDEwMCU7DQp9DQouY292ZXIgew0KICBoZWlnaHQ6IDUwcHg7DQogIHdpZHRoOiAxMDAlOw0KICBtaW4td2lkdGg6IDIwMHB4Ow0KICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vc3RhdGljL2NkZGlzay5wbmcpOw0KICBiYWNrZ3JvdW5kLXNpemU6IDUwcHg7DQogIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7DQogIGxpbmUtaGVpZ2h0OiAyNHB4Ow0KICBwYWRkaW5nOiAwIGF1dG87DQp9DQouaW1hZ2Ugew0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogIHdpZHRoOiA1MHB4Ow0KICBoZWlnaHQ6IDUwcHg7DQogIGJvcmRlci1yYWRpdXM6IDVweDsNCn0NCi5pbWFnZSBpbWd7DQogIGJvcmRlci1yYWRpdXM6aW5oZXJpdDsNCn0NCi5jb3ZlciBzcGFuIHsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICB0b3A6IC01MHB4Ow0KICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOw0KICBoZWlnaHQ6IDI0cHg7DQogIHdpZHRoOiAxODBweDsNCiAgdGV4dC1hbGlnbjogc3RhcnQ7DQogIG1hcmdpbi1sZWZ0OiA2NXB4Ow0KICBtYXJnaW4tdG9wOiAtMjBweDsNCn0NCi5jb250b3JsIHsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KDQogIGZvbnQtc2l6ZTogNTBweDsNCn0NCmkgew0KICBjdXJzb3I6IHBvaW50ZXI7DQp9DQouYWN0aXZlIHsNCiAgY3Vyc29yOiBub3QtYWxsb3dlZDsNCiAgY29sb3I6IHJnYigxODUsIDgsIDgpOw0KICBiYWNrZ3JvdW5kOiBhcXVhbWFyaW5lOw0KfQ0K"},{"version":3,"sources":["player.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"player.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-row\r\n    v-show=\"this.playList.length\"\r\n    class=\"player\"\r\n    type=\"flex\"\r\n    justify=\"space-around\"\r\n    align=\"middle\"\r\n    :gutter=\"90\"\r\n  >\r\n    <audio ref=\"audio\" autoplay>\r\n      <source :src=\"url\" type=\"audio/mp3\" />\r\n    </audio>\r\n    <el-slider\r\n      class=\"time animate__animated animate__slideInLeft\"\r\n      v-model=\"progress\"\r\n      :stroke-width=\"26\"\r\n      :show-tooltip=\"false\"\r\n      @change=\"changeProgress\"\r\n    ></el-slider>\r\n    <el-col :span=\"4\">\r\n      <div class=\"cover\">\r\n        <div class=\"image\">\r\n        <img :src=\"picUrl\" />\r\n        </div>\r\n        <span> {{ playList[playingIndex].title }}</span>\r\n        <span class=\"small\">\r\n          {{ playList[playingIndex].singer }}\r\n        </span>\r\n      </div>\r\n    </el-col>\r\n    <el-col :span=\"14\">\r\n      <div class=\"contorl\">\r\n        <div class=\"animate__animated animate__flipInX\">\r\n          <el-popover\r\n            placement=\"top-start\"\r\n            width=\"300\"\r\n            trigger=\"hover\"\r\n            content=\"列表为空\"\r\n            title=\"正在播放\"\r\n          >\r\n            <el-table\r\n              v-show=\"playList[0]\"\r\n              :data=\"playList\"\r\n              style=\"width: 100%\"\r\n              height=\"350px\"\r\n              :show-header=\"false\"\r\n              @row-dblclick=\"rowDblclick\"\r\n            >\r\n              <el-table-column width=\"220\">\r\n                <template slot-scope=\"scope\">\r\n                  <i class=\"el-icon-time\"></i>\r\n                  <span style=\"margin-left: 10px\">{{ scope.row.title }}</span>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column>\r\n                <template slot-scope=\"scope\">\r\n                  <el-button\r\n                    style=\"margin-right: -90px\"\r\n                    size=\"mini\"\r\n                    type=\"danger\"\r\n                    icon=\"el-icon-delete\"\r\n                    circle\r\n                    @click=\"handleDelete(scope.$index, scope.row)\"\r\n                  ></el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n            <i slot=\"reference\" class=\"el-icon-s-unfold mid\"></i>\r\n          </el-popover>\r\n          <i\r\n            class=\"mid el-icon-d-arrow-left\"\r\n            title=\"后退两秒\"\r\n            @click=\"setCurrentTime = currentTime - 2\"\r\n          ></i>\r\n          <span class=\"small duration\">{{ currentTimeForm }}</span>\r\n          <i\r\n            class=\"el-icon-caret-left\"\r\n            title=\"上一首\"\r\n            @click=\"changePlayingIndex(playingIndex - 1)\"\r\n          ></i>\r\n          <i\r\n            :class=\"playBtn\"\r\n            @click=\"isPlaying = !isPlaying\"\r\n          ></i>\r\n          <i\r\n            class=\"el-icon-caret-right\"\r\n            title=\"下一首\"\r\n            @click=\"changePlayingIndex(playingIndex + 1)\"\r\n          ></i>\r\n          <span class=\"small duration\">{{ durationTimeForm }}</span>\r\n          <i\r\n            class=\"mid el-icon-d-arrow-right\"\r\n            title=\"快进两秒\"\r\n            @click=\"setCurrentTime = currentTime + 2\"\r\n          ></i>\r\n          <i class=\"mid el-icon-star-off\"></i>\r\n        </div>\r\n      </div>\r\n    </el-col>\r\n    <el-col :span=\"4\">\r\n      <div class=\"setting\">\r\n        <el-slider v-model=\"volume\" :stroke-width=\"26\"></el-slider>\r\n      </div>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport { mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"player\",\r\n  data() {\r\n    return {\r\n      playBtn:'el-icon-video-play',\r\n      url: \"\",\r\n      picUrl: \"\",\r\n      audio: null,\r\n      volume: 50,\r\n      progress: 0,\r\n      currentTime: 0,\r\n      duration: 0,\r\n      setCurrentTime: 0,\r\n      currentTimeForm: \"0:00\",\r\n      durationTimeForm: \"0:00\",\r\n    };\r\n  },\r\n  watch: {\r\n    currentTime(newVal) {\r\n      this.progress = (newVal / this.duration) * 100;\r\n      this.currentTimeForm = this.timeFormt(newVal);\r\n    },\r\n    setCurrentTime(newVal) {\r\n      if (newVal) this.audio.currentTime = newVal;\r\n    },\r\n    volume(newVal) {\r\n      this.audio.volume = newVal / 100;\r\n    },\r\n    isPlaying:{\r\n      handler(newVal) {\r\n      this.$nextTick(() => {\r\n        if (newVal) {\r\n          this.playBtn='el-icon-video-pause'\r\n          this.audio.play();\r\n        } else{ \r\n           this.playBtn='el-icon-video-play'\r\n          this.audio.pause();\r\n        \r\n        }\r\n      });},\r\n    },\r\n    playingIndex: {\r\n      handler(newVal) {\r\n        if (newVal === this.playList.length) this.changePlayingIndex(0);\r\n        else if (newVal < 0) this.changePlayingIndex(this.playList.length - 1);\r\n        if (this.playList.length) {\r\n          this.url = this.playList[newVal].url;\r\n          this.picUrl = this.playList[newVal].picUrl;\r\n        }\r\n        this.$nextTick(() => {\r\n          this.isPlaying = true;\r\n          this.audio.load();\r\n          this.audio.play();\r\n        });\r\n      },\r\n      immediate: true,\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(\"playerAbout\", [\"playList\", \"playingIndex\"]),\r\n    isPlaying: {\r\n      get() {\r\n        return this.$store.state.playerAbout.isPlaying;\r\n      },\r\n      set(val) {\r\n        this.$store.state.playerAbout.isPlaying = val;\r\n      },\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations(\"playerAbout\", [\"changePlayingIndex\"]),\r\n    timeFormt(value) {\r\n      value = Math.ceil(value * 1);\r\n      let m = parseInt(value / 60);\r\n      let s = value % 60;\r\n      if (s < 10) s = \"0\" + s;\r\n      return m + \":\" + s;\r\n    },\r\n    changeProgress(val) {\r\n      this.setCurrentTime = (val / 100) * this.duration;\r\n    },\r\n    handleDelete(row) {\r\n      this.playList.splice(row, 1);\r\n      if (this.playingIndex > row)\r\n        this.changePlayingIndex(this.playingIndex - 1);\r\n      if (row === this.playList.length) this.changePlayingIndex(0);\r\n    },\r\n    rowDblclick(row) {\r\n      let index = this.playList.findIndex((val) => {\r\n        return val.id === row.id;\r\n      });\r\n      this.changePlayingIndex(index);\r\n    },\r\n    makerAudio() {\r\n      this.audio = this.$refs.audio;\r\n      this.audio.addEventListener(\"canplay\", () => {\r\n        this.duration = this.audio.duration;\r\n        this.durationTimeForm = this.timeFormt(this.duration);\r\n      });\r\n      this.audio.addEventListener(\"timeupdate\", () => {\r\n        this.currentTime = this.audio.currentTime;\r\n      });\r\n\r\n      this.audio.addEventListener(\"ended\", () => {\r\n        this.changePlayingIndex(this.playingIndex + 1);\r\n        console.log(\"fangwanle\");\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.makerAudio();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.player {\r\n  position: fixed;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  height: 60px;\r\n  min-width: 960px;\r\n  background-color: rgba(204, 127, 127, 0.5);\r\n  -webkit-backdrop-filter: saturate(180%) blur(40px);\r\n  backdrop-filter: saturate(180%) blur(40px);\r\n  color: #fffffff1;\r\n  letter-spacing: 1.5px;\r\n  font: small-caps bold 16px sans-serif;\r\n  box-sizing: content-box;\r\n  border-top: 8px solid transparent;\r\n  z-index: 99;\r\n}\r\n.player /deep/ .el-slider__button {\r\n  box-sizing: border-box;\r\n  border: 3px solid #cc7f7f9c;\r\n  opacity: 0;\r\n}\r\n.player /deep/ .el-slider__button:hover {\r\n  opacity: 1;\r\n}\r\n.player /deep/ .el-slider__bar {\r\n  background-image: linear-gradient(to right, #ff0844 0%, #ffb199 100%);\r\n  height: 4px;\r\n}\r\n.player /deep/ .el-slider__runway {\r\n  background-color: rgba(204, 127, 127, 0.315);\r\n  height: 4px;\r\n}\r\n.player /deep/ .el-slider__button-wrapper {\r\n  top: -16px;\r\n}\r\n.small {\r\n  font-size: 12px;\r\n  color: #cd7272;\r\n}\r\n.mid {\r\n  position: relative;\r\n  top: -8px;\r\n  padding: 0 10px;\r\n  font-size: 27px;\r\n}\r\ni {\r\n  color: #cca8a8ee;\r\n}\r\ni:hover {\r\n  color: #fff;\r\n}\r\n.duration {\r\n  padding: 0 10px;\r\n  position: relative;\r\n  top: -13px;\r\n}\r\n.time {\r\n  position: absolute;\r\n  top: -24px;\r\n  width: 100%;\r\n}\r\n.cover {\r\n  height: 50px;\r\n  width: 100%;\r\n  min-width: 200px;\r\n  background-image: url(../static/cddisk.png);\r\n  background-size: 50px;\r\n  background-repeat: no-repeat;\r\n  line-height: 24px;\r\n  padding: 0 auto;\r\n}\r\n.image {\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 5px;\r\n}\r\n.image img{\r\n  border-radius:inherit;\r\n}\r\n.cover span {\r\n  position: relative;\r\n  top: -50px;\r\n  white-space: nowrap;\r\n  display: inline-block;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  height: 24px;\r\n  width: 180px;\r\n  text-align: start;\r\n  margin-left: 65px;\r\n  margin-top: -20px;\r\n}\r\n.contorl {\r\n  text-align: center;\r\n\r\n  font-size: 50px;\r\n}\r\ni {\r\n  cursor: pointer;\r\n}\r\n.active {\r\n  cursor: not-allowed;\r\n  color: rgb(185, 8, 8);\r\n  background: aquamarine;\r\n}\r\n</style>\r\n"]}]}